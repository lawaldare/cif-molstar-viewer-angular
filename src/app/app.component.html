<div class="container">
  <header>
    <h1>Molecular Structure Viewer</h1>
    <p class="subtitle">Upload and visualize .cif files with Molstar</p>
  </header>

  <div class="main-content">
    <div class="upload-section">
      <h2 class="section-title">Upload CIF File</h2>

      <!-- Upload area with drag & drop -->
      <div
        #dropArea
        class="upload-area"
        (dragover)="onDragOver($event)"
        (dragleave)="onDragLeave()"
        (drop)="onDrop($event)"
      >
        <div class="upload-icon">üìÅ</div>
        <p class="upload-text">Drag & drop your .cif file here</p>
        <p>or</p>

        <!-- Hidden file input -->
        <input
          #fileInput
          type="file"
          class="file-input"
          accept=".cif"
          (change)="onFileChange($event)"
          hidden
        />

        <!-- Browse button -->
        <button class="btn" (click)="onBrowseClick()">Browse Files</button>
      </div>

      <!-- Selected file info -->
      @if(currentFile) {
      <div class="file-info">
        <p class="file-name">Selected file: {{ currentFile.name }}</p>
        <p class="file-size">Size: {{ currentFile.size | number }} bytes</p>
      </div>
      }

      <!-- Messages -->
      @if(errorMsg()) {
      <div class="message error">{{ errorMsg() }}</div>
      } @if(successMsg()) {
      <div class="message success">{{ successMsg() }}</div>
      }
    </div>

    <div class="viewer-section">
      <h2 class="section-title">3D Molecular Visualization</h2>
      <div class="viewer-container">
        <div #viewer id="molstar-viewer"></div>

        <!-- Loading spinner -->
        @if(isLoading()) {
        <div class="loading">
          <div class="spinner"></div>
          <p>Loading structure...</p>
        </div>
        }
      </div>
    </div>
  </div>

  <footer>
    <p>Powered by Molstar | Created with Angular Components</p>
  </footer>
</div>
